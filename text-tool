<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Text Tools Suite</title>
    <meta name="description" content="A modern, clean suite of free online text tools: Word Counter, Case Converter, Text-to-Speech, Fancy Text Generator, and more.">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <style>
        /* --- Android 16 / Material You Inspired UI --- */
        :root {
            --primary-color: #7a52f4; /* Creative Purple */
            --bg-color: #f4f7fc;
            --card-bg-color: #ffffff;
            --text-color: #343a40;
            --text-secondary: #6c757d;
            --border-color: #eef2f9;
            --card-shadow: 0 8px 30px rgba(0, 0, 0, 0.05);
            --card-radius: 1.5rem;
            --button-radius: 50px;
        }

        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap');

        body { background-color: var(--bg-color); color: var(--text-color); font-family: 'Poppins', sans-serif; }
        .main-header { background-color: transparent; padding-top: 1.5rem; padding-bottom: 1rem; }
        .main-footer { background-color: var(--card-bg-color); border-top: 1px solid var(--border-color); }
        #tools-nav-container .card { background-color: transparent; border: none; box-shadow: none; }
        .nav-pills .nav-link { display: flex; align-items: center; gap: 12px; padding: 12px 16px; border-radius: 12px; color: var(--text-secondary); font-weight: 500; transition: all 0.2s ease-in-out; }
        .nav-pills .nav-link i { font-size: 1.2rem; width: 24px; text-align: center; }
        .nav-pills .nav-link:hover { background-color: var(--border-color); color: var(--primary-color); }
        .nav-pills .nav-link.active { background-color: var(--primary-color); color: white; box-shadow: 0 4px 12px rgba(122, 82, 244, 0.4); }

        .tool-container.card { background-color: var(--card-bg-color); border: 1px solid var(--border-color); border-radius: var(--card-radius); box-shadow: var(--card-shadow); }
        .tool-container .card-header { background-color: var(--card-bg-color); border-bottom: 1px solid var(--border-color); padding: 1.5rem; }
        .tool-container .card-body { padding: 1.5rem; }

        .form-control, .form-select { border-radius: 12px; padding: 12px 16px; border: 1px solid var(--border-color); background-color: var(--bg-color); transition: all 0.2s ease; }
        .form-control:focus, .form-select:focus { background-color: white; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(122, 82, 244, 0.2); }
        .btn { border-radius: var(--button-radius); font-weight: 600; padding: 12px 24px; transition: all 0.2s ease; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .btn-primary { background-color: var(--primary-color); border-color: var(--primary-color); }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.12); }
        .btn-sm { padding: 8px 16px; }
        
        pre { background-color: #282c34; color: #abb2bf; padding: 1rem; border-radius: 0.8rem; white-space: pre-wrap; word-break: break-all; }
        .fancy-text-output { background-color: var(--bg-color); padding: 1rem; border-radius: 12px; margin-bottom: 1rem; }
        .fancy-text-output p { font-size: 1.2rem; margin-bottom: 0.5rem; }

        .ad-placeholder { background-color: #eef2f9; border: 2px dashed #d6dce6; display: flex; align-items: center; justify-content: center; text-align: center; color: #98a5b9; font-weight: 500; border-radius: 1rem; }
        .ad-leaderboard { min-height: 90px; }
        .ad-sidebar { min-height: 600px; background-color: var(--card-bg-color); }
        .ad-footer { min-height: 90px; background-color: transparent; }
        .ad-in-content { min-height: 250px; }
        .tool-container { display: none; }
        .tool-container.active { display: block; }
        
        @media (max-width: 991.98px) {
            #tools-nav-container .nav-pills { display: flex; flex-direction: row; flex-wrap: nowrap; overflow-x: auto; padding-bottom: 1rem; margin-bottom: 1.5rem; scrollbar-width: none; }
            #tools-nav-container .nav-pills::-webkit-scrollbar { display: none; }
            .nav-pills .nav-link { white-space: nowrap; }
        }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="container text-center">
            <h1 class="display-5 fw-bold">Modern Text Toolkit</h1>
            <p class="lead text-secondary">A powerful suite of tools for all your text-processing needs.</p>
        </div>
    </header>

    <div class="container-fluid px-lg-5 my-4">
        <!-- Top Ad Section -->
        <div class="ad-placeholder ad-leaderboard mb-5 mx-auto" style="max-width: 728px;">Top Banner Ad (728x90)</div>

        <div class="row g-4">
            <!-- Left Navigation Sidebar -->
            <div class="col-lg-3" id="tools-nav-container">
                <div class="card sticky-top" style="top: 20px;">
                    <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                        <button class="nav-link text-start active" data-tool="tool-word-counter"><i class="bi bi-card-text"></i><span>Word & Char Counter</span></button>
                        <button class="nav-link text-start" data-tool="tool-case-converter"><i class="bi bi-fonts"></i><span>Case Converter</span></button>
                        <button class="nav-link text-start" data-tool="tool-tts"><i class="bi bi-volume-up-fill"></i><span>Text to Speech</span></button>
                        <button class="nav-link text-start" data-tool="tool-stt"><i class="bi bi-mic-fill"></i><span>Speech to Text</span></button>
                        <button class="nav-link text-start" data-tool="tool-url-encoder"><i class="bi bi-link-45deg"></i><span>URL Encoder/Decoder</span></button>
                        <button class="nav-link text-start" data-tool="tool-fancy-text"><i class="bi bi-magic"></i><span>Fancy Text Generator</span></button>
                        <button class="nav-link text-start" data-tool="tool-random-text"><i class="bi bi-shuffle"></i><span>Random Text Generator</span></button>
                        <button class="nav-link text-start" data-tool="tool-plagiarism"><i class="bi bi-shield-check"></i><span>Plagiarism Checker</span></button>
                        <button class="nav-link text-start" data-tool="tool-grammar"><i class="bi bi-spellcheck"></i><span>Grammar Checker</span></button>
                    </div>
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="col-lg-6">
                <!-- 1. Word Counter -->
                <div id="tool-word-counter" class="tool-container card active">
                    <div class="card-header"><h3>Word & Character Counter</h3></div>
                    <div class="card-body">
                        <p class="text-secondary">Paste your text below to get a real-time analysis.</p>
                        <textarea id="wc-text" class="form-control" rows="8" placeholder="Start typing or paste text here..."></textarea>
                        <div class="row text-center mt-4 g-3">
                            <div class="col-6 col-md-3"><div class="p-3 border rounded-3"><h5 class="text-secondary small">Words</h5><p id="wc-words" class="fs-4 fw-bold mb-0">0</p></div></div>
                            <div class="col-6 col-md-3"><div class="p-3 border rounded-3"><h5 class="text-secondary small">Characters</h5><p id="wc-chars" class="fs-4 fw-bold mb-0">0</p></div></div>
                            <div class="col-6 col-md-3"><div class="p-3 border rounded-3"><h5 class="text-secondary small">Sentences</h5><p id="wc-sentences" class="fs-4 fw-bold mb-0">0</p></div></div>
                            <div class="col-6 col-md-3"><div class="p-3 border rounded-3"><h5 class="text-secondary small">Paragraphs</h5><p id="wc-paragraphs" class="fs-4 fw-bold mb-0">0</p></div></div>
                        </div>
                    </div>
                </div>

                <!-- 2. Case Converter -->
                <div id="tool-case-converter" class="tool-container card">
                    <div class="card-header"><h3>Case Converter</h3></div>
                    <div class="card-body">
                        <p class="text-secondary">Quickly convert the case of your text.</p>
                        <textarea id="cc-text" class="form-control" rows="8" placeholder="Paste your text..."></textarea>
                        <div class="d-flex flex-wrap gap-2 mt-3">
                            <button class="btn btn-primary btn-sm" data-case="upper">UPPERCASE</button>
                            <button class="btn btn-primary btn-sm" data-case="lower">lowercase</button>
                            <button class="btn btn-primary btn-sm" data-case="sentence">Sentence case</button>
                            <button class="btn btn-primary btn-sm" data-case="title">Title Case</button>
                            <button class="btn btn-secondary btn-sm" data-case="clear">Clear</button>
                        </div>
                    </div>
                </div>

                <!-- 3. Text to Speech -->
                <div id="tool-tts" class="tool-container card">
                    <div class="card-header"><h3>Text to Speech</h3></div>
                    <div class="card-body">
                        <p class="text-secondary">Let your browser read text aloud for you.</p>
                        <textarea id="tts-text" class="form-control" rows="6" placeholder="Type or paste text to be spoken."></textarea>
                        <label for="tts-voices" class="form-label mt-3">Select Voice:</label>
                        <select id="tts-voices" class="form-select"></select>
                        <div class="d-flex gap-2 mt-3">
                            <button id="tts-speak-btn" class="btn btn-primary"><i class="bi bi-play-fill"></i> Speak</button>
                            <button id="tts-cancel-btn" class="btn btn-secondary">Cancel</button>
                        </div>
                    </div>
                </div>

                <!-- 4. Speech to Text -->
                <div id="tool-stt" class="tool-container card">
                    <div class="card-header"><h3>Speech to Text</h3></div>
                    <div class="card-body">
                        <p class="text-secondary">Click the button and start speaking to transcribe your voice into text.</p>
                        <button id="stt-btn" class="btn btn-primary"><i class="bi bi-mic-fill"></i> Start Listening</button>
                        <div id="stt-output" class="p-3 mt-3 border rounded-3 bg-light" style="min-height: 100px;"></div>
                        <div id="stt-error" class="alert alert-warning mt-3 d-none"></div>
                    </div>
                </div>

                <!-- 5. URL Encoder / Decoder -->
                <div id="tool-url-encoder" class="tool-container card">
                    <div class="card-header"><h3>URL Encoder & Decoder</h3></div>
                    <div class="card-body">
                        <p class="text-secondary">Encode text to be safely used in a URL, or decode it back.</p>
                        <textarea id="url-input" class="form-control" rows="5" placeholder="Enter text or a URL component here..."></textarea>
                        <div class="d-flex gap-2 mt-3">
                            <button id="url-encode-btn" class="btn btn-primary">Encode</button>
                            <button id="url-decode-btn" class="btn btn-secondary">Decode</button>
                        </div>
                        <textarea id="url-output" class="form-control mt-3" rows="5" readonly placeholder="Result will appear here..."></textarea>
                    </div>
                </div>

                <!-- 6. Fancy Text Generator -->
                <div id="tool-fancy-text" class="tool-container card">
                    <div class="card-header"><h3>Fancy Text Generator</h3></div>
                    <div class="card-body">
                        <p class="text-secondary">Generate cool and stylish text to copy and paste.</p>
                        <input type="text" id="fancy-input" class="form-control" placeholder="Type your text...">
                        <div id="fancy-output" class="mt-4"></div>
                    </div>
                </div>

                <!-- 7. Random Text Generator -->
                <div id="tool-random-text" class="tool-container card">
                    <div class="card-header"><h3>Random Text (Lorem Ipsum) Generator</h3></div>
                    <div class="card-body">
                        <p class="text-secondary">Generate placeholder text for your design mockups.</p>
                        <label for="random-paragraphs" class="form-label">Number of Paragraphs:</label>
                        <input type="number" id="random-paragraphs" class="form-control" value="3" min="1" max="20">
                        <button id="random-generate-btn" class="btn btn-primary mt-3">Generate</button>
                        <textarea id="random-output" class="form-control mt-3" rows="8" readonly></textarea>
                    </div>
                </div>

                <!-- API-Dependent Tools Below -->

                <!-- 8. Plagiarism Checker -->
                <div id="tool-plagiarism" class="tool-container card">
                    <div class="card-header"><h3>Plagiarism Checker</h3></div>
                    <div class="card-body">
                        <h5 class="text-primary">API-Based Tool</h5>
                        <p class="text-secondary">This tool compares a piece of text to a massive database of online content to detect potential plagiarism.</p>
                        <div class="alert alert-warning mt-3">
                            <i class="bi bi-server"></i> <strong>Why is this an API tool?</strong><br>
                            Checking for plagiarism requires crawling and indexing billions of web pages, a task far beyond the capability of a web browser. This service is provided by specialized companies through powerful (and usually paid) APIs.
                        </div>
                    </div>
                </div>

                <!-- 9. Grammar Checker -->
                <div id="tool-grammar" class="tool-container card">
                    <div class="card-header"><h3>Grammar Checker</h3></div>
                    <div class="card-body">
                        <h5 class="text-primary">API-Based Tool</h5>
                        <p class="text-secondary">This tool analyzes text for grammatical errors, spelling mistakes, and style improvements using artificial intelligence.</p>
                        <div class="alert alert-warning mt-3">
                            <i class="bi bi-cpu-fill"></i> <strong>Why is this an API tool?</strong><br>
                            Advanced grammar checking relies on complex Natural Language Processing (NLP) models. These AI models are computationally expensive and are run on powerful servers, accessible via APIs from services like Grammarly.
                        </div>
                    </div>
                </div>

                <!-- In-Content Ad Section -->
                <div class="ad-placeholder ad-in-content my-4">In-Content Ad (300x250)</div>
            </div>

            <!-- Right Sidebar for Ads -->
            <div class="col-lg-3">
                <div class="sticky-top" style="top: 20px;">
                    <div class="ad-placeholder ad-sidebar">Vertical Ad <br> (300x600)</div>
                </div>
            </div>
        </div>
    </div>

    <footer class="main-footer mt-auto text-center p-4">
        <div class="container">
            <div class="ad-placeholder ad-footer mb-4 mx-auto" style="max-width: 728px;">Footer Ad (728x90)</div>
            <p class="text-secondary">© 2024 Modern Text Tools. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const toolButtons = document.querySelectorAll('#v-pills-tab .nav-link');
        const toolContainers = document.querySelectorAll('.tool-container');

        function showTool(toolId) {
            toolContainers.forEach(c => c.classList.remove('active'));
            toolButtons.forEach(b => b.classList.remove('active'));
            document.getElementById(toolId).classList.add('active');
            document.querySelector(`[data-tool="${toolId}"]`).classList.add('active');
        }
        toolButtons.forEach(button => button.addEventListener('click', () => showTool(button.getAttribute('data-tool'))));

        // --- 1. Word Counter ---
        const wcText = document.getElementById('wc-text');
        wcText.addEventListener('input', () => {
            const text = wcText.value;
            document.getElementById('wc-words').textContent = text.trim().split(/\s+/).filter(Boolean).length;
            document.getElementById('wc-chars').textContent = text.length;
            document.getElementById('wc-sentences').textContent = text.match(/[^\.!\?]+[\.!\?]+/g)?.length || 0;
            document.getElementById('wc-paragraphs').textContent = text.split(/\n+/).filter(Boolean).length;
        });

        // --- 2. Case Converter ---
        const ccText = document.getElementById('cc-text');
        document.querySelector('#tool-case-converter .d-flex').addEventListener('click', e => {
            if (e.target.tagName !== 'BUTTON') return;
            const text = ccText.value;
            switch (e.target.dataset.case) {
                case 'upper': ccText.value = text.toUpperCase(); break;
                case 'lower': ccText.value = text.toLowerCase(); break;
                case 'sentence': ccText.value = text.toLowerCase().replace(/(^\s*\w|[.!?]\s*\w)/g, c => c.toUpperCase()); break;
                case 'title': ccText.value = text.toLowerCase().split(' ').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' '); break;
                case 'clear': ccText.value = ''; break;
            }
        });

        // --- 3. Text to Speech ---
        const ttsText = document.getElementById('tts-text');
        const ttsVoices = document.getElementById('tts-voices');
        const ttsSpeakBtn = document.getElementById('tts-speak-btn');
        const ttsCancelBtn = document.getElementById('tts-cancel-btn');
        let synth = window.speechSynthesis;
        let voices = [];

        function populateVoiceList() {
            voices = synth.getVoices();
            ttsVoices.innerHTML = '';
            voices.forEach(voice => {
                let option = document.createElement('option');
                option.textContent = `${voice.name} (${voice.lang})`;
                option.setAttribute('data-lang', voice.lang);
                option.setAttribute('data-name', voice.name);
                ttsVoices.appendChild(option);
            });
        }
        populateVoiceList();
        if (synth.onvoiceschanged !== undefined) {
            synth.onvoiceschanged = populateVoiceList;
        }
        ttsSpeakBtn.addEventListener('click', () => {
            if (synth.speaking) { return; }
            if (ttsText.value !== '') {
                const utterThis = new SpeechSynthesisUtterance(ttsText.value);
                const selectedVoiceName = ttsVoices.selectedOptions[0].getAttribute('data-name');
                utterThis.voice = voices.find(voice => voice.name === 
